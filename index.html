<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Fox Home - 清疚</title><meta name="author" content="Foolish Fox"><meta name="copyright" content="Foolish Fox"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="FF的博客"><meta property="og:type" content="website"><meta property="og:title" content="Fox Home"><meta property="og:url" content="https://foolishfox.cn/index.html"><meta property="og:site_name" content="Fox Home"><meta property="og:description" content="FF的博客"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://asset.foolishfox.cn/static/avatar.jpg"><meta property="article:author" content="Foolish Fox"><meta property="article:tag" content="foolishfox, blog, share"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://asset.foolishfox.cn/static/avatar.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Fox Home",
  "alternateName": [
    "清疚",
    "foolishfox.cn"
  ],
  "url": "https://foolishfox.cn/"
}</script><link rel="shortcut icon" href="https://asset.foolishfox.cn/static/fox_big.jpg"><link rel="canonical" href="https://foolishfox.cn/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>(()=>{const e={set:(e,t,o)=>{if(!o)return;const a=Date.now()+864e5*o;localStorage.setItem(e,JSON.stringify({value:t,expiry:a}))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const{value:o,expiry:a}=JSON.parse(t);if(!(Date.now()>a))return o;localStorage.removeItem(e)}};window.btf={saveToLocal:e,getScript:(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,Object.entries(t).forEach(([e,t])=>n.setAttribute(e,t)),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),getCSS:(e,t)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onload=n.onreadystatechange=()=>{n.readyState&&!/loaded|complete/.test(n.readyState)||o()},n.onerror=a,document.head.appendChild(n)}),addGlobalFn:(e,t,o=!1,a=window)=>{if(e.startsWith("pjax"))return;const n=a.globalFn||{};n[e]=n[e]||{},n[e][o||Object.keys(n[e]).length]=t,a.globalFn=n}};const t=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},o=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};btf.activateDarkMode=t,btf.activateLightMode=o;const a=e.get("theme");"dark"===a?t():"light"===a&&o();const n=e.get("aside-status");void 0!==n&&document.documentElement.classList.toggle("hide-aside","hide"===n);/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.json",preload:!1,top_n_per_article:1,unescape:!1,pagination:{enable:!0,hitsPerPage:5},languages:{hits_empty:"未找到符合您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:250,highlightFullpage:!1,highlightMacStyle:!1},copy:{success:"复制成功",error:"复制失败",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"已切换为繁体中文",cht_to_chs:"已切换为简体中文",day_to_night:"已切换为深色模式",night_to_day:"已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"bottom-left"},infinitegrid:{js:"https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyloadPlugin:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Fox Home",isHighlightShrink:!1,isToc:!1,pageType:"home"}</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/iconfont.css"><link rel="stylesheet" href="/css/memos_mini.css"><link rel="stylesheet" href="https://cdn.staticfile.net/Swiper/10.3.1/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zhheo/Post-Abstract-AI@latest/tianli_gpt.css"><meta name="generator" content="Hexo 8.1.1"><link rel="alternate" href="/atom.xml" title="Fox Home" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/static/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间线</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw iconfont icon-archive"></i><span> 归档</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-categories"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about"><i class="fa-fw fa-solid fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/link"><i class="fa-fw fa-solid fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/link/moments"><i class="fa-fw fa fa-puzzle-piece"></i><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page" href="/memos/"><i class="fa-fw fas fa-share-square"></i><span> 即刻</span></a></div><div class="menus_item"><a class="site-page" href="/statistics"><i class="fa-fw fa-solid fa-chart-line"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://work.foolishfox.cn"><i class="fa-fw fas fa-running"></i><span> 运动</span></a></div><div class="menus_item"><a class="site-page" href="/lab"><i class="fa-fw fa-solid fa-flask"></i><span> 实验室</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image:url(https://asset.foolishfox.cn/static/background.jpg)"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Fox Home</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw iconfont icon-shijianzhou"></i><span> 时间线</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw iconfont icon-archive"></i><span> 归档</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-categories"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about"><i class="fa-fw fa-solid fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/link"><i class="fa-fw fa-solid fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/link/moments"><i class="fa-fw fa fa-puzzle-piece"></i><span> 朋友圈</span></a></div><div class="menus_item"><a class="site-page" href="/memos/"><i class="fa-fw fas fa-share-square"></i><span> 即刻</span></a></div><div class="menus_item"><a class="site-page" href="/statistics"><i class="fa-fw fa-solid fa-chart-line"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener external nofollow noreferrer" href="https://work.foolishfox.cn"><i class="fa-fw fas fa-running"></i><span> 运动</span></a></div><div class="menus_item"><a class="site-page" href="/lab"><i class="fa-fw fa-solid fa-flask"></i><span> 实验室</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">Fox Home</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/YiHui-Liu" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:fox@foolishfox.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="iconfont icon-rss" style="color:#ee7f2f"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/202012-b.html" title="本站指引"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2023/07/22/64bb4f557daf7.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="本站指引"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202012-b.html" title="本站指引"><i class="fas fa-thumbtack sticky"></i>本站指引</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-12-21T09:03:53.000Z" title="发表于 2020-12-21 17:03:53">2020-12-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9A%8F%E8%AE%B0/">随记</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202012-b.html#post-comment"><span class="waline-comment-count" data-path="/posts/202012-b.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">如果您来自搜索引擎，可以再次使用右上角搜索内容 订阅我 ¶ 你可以通过RSS 来订阅本站的内容 推荐页面 ¶ 关于我的介绍，戳这里 我的锻炼记录，戳这里 博客访问记录，戳这里 更多页面请查看实验室</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/202511-umami-migration.html" title="升级 Umami | 从 Mariadb 迁移至 Postgresql"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2025/11/14/6916034e07dc9.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="升级 Umami | 从 Mariadb 迁移至 Postgresql"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202511-umami-migration.html" title="升级 Umami | 从 Mariadb 迁移至 Postgresql">升级 Umami | 从 Mariadb 迁移至 Postgresql</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-11-13T14:58:27.000Z" title="发表于 2025-11-13 22:58:27">2025-11-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%8D%9A%E5%AE%A2%E6%88%90%E9%95%BF%E6%97%A5%E5%BF%97/">博客成长日志</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202511-umami-migration.html#post-comment"><span class="waline-comment-count" data-path="/posts/202511-umami-migration.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">感谢 Gemini Pro 生成的封面图。 实时统计页面的更新请见V3 版本更新以及 FoxHub fox/umami-stats-scripts Umami 最近升级大版本，从 v3 开始彻底抛弃了 MySQL / Mariadb，转而使用 Postgresql 作为默认数据库。之前有几个别的服务也推荐使用 Postgresql，一直在纠结要不要切过去，但是每次都被庞大的工作量劝阻了（而且还要学很多东西）。现在只能决定折腾一下数据库的迁移了。 注意：在进行数据库迁移之前，请务必备份数据，以防止意外数据丢失。 以下操作过程均以通过docker compose部署的 Umami 为例，其他部署方式请根据实际情况调整命令，可以参考官方文档。 备份现有数据：在进行任何迁移操作之前，确保已经备份了当前的 Mariadb 数据库数据： 1mariadb --no-create-info --default-character-set=utf8mb4 --quick --skip-add-locks -u username -p mydb &gt; mydbdump.sql ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/202502-g4template.html" title="Geant4 综合模板"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2025/02/21/67b82a566d8d8.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Geant4 综合模板"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202502-g4template.html" title="Geant4 综合模板">Geant4 综合模板</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-02-21T03:32:09.000Z" title="发表于 2025-02-21 11:32:09">2025-02-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A0%B8%E7%89%A9%E7%90%86/">核物理</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%A0%B8%E7%89%A9%E7%90%86/Geant4/">Geant4</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202502-g4template.html#post-comment"><span class="waline-comment-count" data-path="/posts/202502-g4template.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">几年前在 Geant4 示例 中我介绍了 Windows 下 Geant4 的安装与示例。今天分享一个 Geant4 综合模板，帮助快速开始一个项目，实现了以下功能： 构建模块化的 TAS 探测器 统计模拟过程中的核反应信息，包括类型、反应道、产物能量分布、伽马射线母核统计等 (1, 2) 利用 Sensitive Detector 统计粒子在探测器中的沉积能量 (3) 通过 Analysis Manager 保存数据到 ROOT 文件 (4, 5) 模板的核心功能时序图如下： sequenceDiagram autonumber par RunManager-&gt;&gt;RunStat: Initialization and RunManager-&gt;&gt;AnalysisManager: Initialization end RunManager-&gt;&gt;+Run: Begin run rect rgb(200, 150, 255) Run-&gt;&gt;SD: Initialization end loop Number of par...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/202501-bing-gitea.html" title="阻止 Bing / Google 收录自建 Gitea 链接"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2025/02/21/67b8258b8e8e4.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="阻止 Bing / Google 收录自建 Gitea 链接"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202501-bing-gitea.html" title="阻止 Bing / Google 收录自建 Gitea 链接">阻止 Bing / Google 收录自建 Gitea 链接</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-01-13T09:30:29.000Z" title="发表于 2025-01-13 17:30:29">2025-01-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202501-bing-gitea.html#post-comment"><span class="waline-comment-count" data-path="/posts/202501-bing-gitea.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">.imgdiv a { width: 45%; } 最近去检查 Bing 和 Google 的网站收录情况，发现收录了一大堆自建的 Gitea 和 Memos 链接，这些链接不太希望直接发布在收索引擎中，而且变换比较快，参考意义不大，所以想阻止被收录。 临时删除 ¶ 如果只需要临时删除这些索引，Google 和 Bing 都提供了入口，不过需要每一定时间手动延期。 永久阻止 ¶ 对于使用 docker 部署的 Gitea，按照官网的安装教程挂载了卷，例如： docker-compose.yml12345678...services: server: image: docker.io/gitea/gitea:1.23.1 ... volumes: - ./gitea:/data ... 容器中的/data/gitea目录与宿主机的./gitea/gitea目录对应，这个目录是用于存放自定义文件的，创建目录templates/custom，在该目录下创建header.tmpl文件，并写入： header.tmpl...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/202501-zsh-comp.html" title="在 zsh 中自动补全命令参数"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2025/01/06/677b83b0f0d98.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="在 zsh 中自动补全命令参数"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202501-zsh-comp.html" title="在 zsh 中自动补全命令参数">在 zsh 中自动补全命令参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-01-06T06:48:41.000Z" title="发表于 2025-01-06 14:48:41">2025-01-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202501-zsh-comp.html#post-comment"><span class="waline-comment-count" data-path="/posts/202501-zsh-comp.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">z.lua 是一个很好的工具，可以快速地进入想要的目录。我在本机 WSL 和多个服务器上都安装了这个程序，但是在执行一些命令（例如z -c，在当前目录下的子目录中选择）的时候，自动补全有时候可以用，有时候不能用，很不方便。所以我决定自己写一个 zsh 的自动补全脚本。 实现 ¶ 首先，通过which z命令拿到实际的命令执行函数： 在 z.lua 脚本中给出了如何对 z 命令进行补全的方法： 12345678910_zlua_zsh_tab_completion() {	# tab completion	(( $+compstate )) &amp;&amp; compstate[insert]=menu # no expand	local -a tmp=(${(f)"$(_zlua --complete "${words/_zlua/z}")"})	_describe "directory" tmp -U}if [ "${+functions[compdef]}" -ne 0 ]; then	compdef _zlua_zsh_tab_completion _zlua 2&g...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/202411-migrate-24.html" title="又一次服务器迁移"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2024/11/06/672b75769cd79.webp" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="又一次服务器迁移"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202411-migrate-24.html" title="又一次服务器迁移">又一次服务器迁移</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-11-06T13:10:44.000Z" title="发表于 2024-11-06 21:10:44">2024-11-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%8D%9A%E5%AE%A2%E6%88%90%E9%95%BF%E6%97%A5%E5%BF%97/">博客成长日志</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202411-migrate-24.html#post-comment"><span class="waline-comment-count" data-path="/posts/202411-migrate-24.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">之前本站一直使用的腾讯云轻量应用服务器服务器一次性买了 3 年，这个月月底就要到期了，但是一看续费的价格，十分的美丽。其实服务器的 4 个核心一直负载都不大，但是内存使用经常在 3G 作用，因此综合考虑下决定入手一个 2H4G 的服务器，再通过自定义镜像迁移过去。 图 1 同配置续费 3 年的价格 图 2 双十一活动新购服务器 但是正当我购置好了服务器，正打算用自定义镜像重装系统的时候，请注意图中两个服务器的硬盘大小，旧的服务器硬盘是 80 GB，虽然我只使用了 40+ GB，但是导出的镜像是完整的 80 GB，而新的服务器硬盘只有 70 GB😒😒😒。 于是只好手动把所有的内容同步到新的服务器上去了，幸好基本大部分的数据都在 home 目录下，同时万分感谢自己在从阿里云迁移到腾讯云的时候将所有的服务都使用 Docker 进行了容器化，所以一行命令迁移： 1scp -r $HOME/docker user@IP:/home/user 然后在新服务器上安装 Docker，启动所有的容器就解决了大部分的工作，仅剩的是一些 Docker 的配置文件，也使用 scp 复制过去就行，两...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/202410-refle-24.html" title="独立博客自省问卷 15 题 - 2024"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/static/fox_paint.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="独立博客自省问卷 15 题 - 2024"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202410-refle-24.html" title="独立博客自省问卷 15 题 - 2024">独立博客自省问卷 15 题 - 2024</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-10-17T11:29:40.000Z" title="发表于 2024-10-17 19:29:40">2024-10-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202410-refle-24.html#post-comment"><span class="waline-comment-count" data-path="/posts/202410-refle-24.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">以下问卷纯粹自省自娱，自我调侃，勿对号入座。 如有不适，请及时关闭浏览器窗口。 如有启发，建议每隔一段时间服用一次。 From 独立博客自省问卷 15 题 你的博客更新频率是多少？ A. 每周更新 B. 一周数篇 C. 一月 1-2 篇 ✅ D. 几个月一篇 一直很想写，但是懒…… 发Memos 更多了。 你的博客上次更新是什么时候？ A. 本周 B. 上周 C. 上个月 ✅ D. 上季度 现在手上还有两三个内容等着写，咕咕咕（这不又水了一篇 你的博客文章是原创的吗？ ✅ A. 坚持原创 B. 部分借鉴 C.AI 帮我写的 D. 搬运别人的，而且不署名 坚决抵制学术博客不端，内容原创，参考留名 你觉得自己的文章对他人有帮助吗？ A. 旨在对他人有启示 ✅ B. 多少有点意义 C. 每日每周流水账 ✅ D. 自我陶醉就好，管他呢 自己以后用得上也是意义 你上次换博客主题 / 程序是什么时候？ A. 上周 B. 上个月 ✅ C. 去年 D. 凭良心说，我多年都是一个主题 从stun 迁移过来的，主要像侧边栏widget之类的自己写太麻烦，最终...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/202408-journalviewer.html" title="使用油猴脚本优化期刊阅读体验"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2024/08/16/66bedd73836f7.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="使用油猴脚本优化期刊阅读体验"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202408-journalviewer.html" title="使用油猴脚本优化期刊阅读体验">使用油猴脚本优化期刊阅读体验</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-08-16T04:51:03.000Z" title="发表于 2024-08-16 12:51:03">2024-08-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/%E5%B7%A5%E5%85%B7/">工具</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202408-journalviewer.html#post-comment"><span class="waline-comment-count" data-path="/posts/202408-journalviewer.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">安装浏览器油猴（TemperMonkey）拓展请参考： 全网最完整 Tampermonkey 油猴脚本管理器安装教程 Tampermonkey 油猴插件 —— 安装与使用教程 使用油猴脚本请谨慎辨别安全性，使用前仔细阅读脚本的说明文档。 完整代码可以通过 Greasy Fork 获得：Journal Viewer 在 PC 网页端在线阅读一些期刊时，往往会有一些侧边栏占据了很大的空间，极其影响阅读体验。但是通过查看网页元素，可以发现这些侧边栏存在很明显的特征，我们可以通过 JavaScript 代码来获取这些元素并删除，同时调整正文的样式，获取更好的阅读体验。 图 1 APS 原始界面 图 2 Science Direct 原始界面 图 3 Nature 原始界面 对于 APS 旗下的期刊，可以使用以下代码： 1234let aps_sidebar = document.getElementById("article-sidebar");aps_sidebar.remove();let aps_content = document.getElementById("arti...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/202407-nameresearch.html" title="使君与府君，到底该怎么喊？"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2024/07/04/6686562dc7e09.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="使君与府君，到底该怎么喊？"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202407-nameresearch.html" title="使君与府君，到底该怎么喊？">使君与府君，到底该怎么喊？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-07-04T07:51:10.000Z" title="发表于 2024-07-04 15:51:10">2024-07-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9A%8F%E8%AE%B0/">随记</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9A%8F%E8%AE%B0/%E5%8E%86%E5%8F%B2/">历史</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202407-nameresearch.html#post-comment"><span class="waline-comment-count" data-path="/posts/202407-nameresearch.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">前言 ¶ 三国演义中有一段经典剧情青梅煮酒论英雄，说献帝的舅舅董承与刘备暗中结盟欲除去曹操，刘备怕曹操生疑，因此每日浇水种豆。曹操听说后请刘备饮酒，议论天下英雄：   随至小亭，已设樽俎：盘置青梅，一樽煮酒。二人对坐，开怀畅饮。酒至半酣，忽阴云漠漠，骤雨将至。从人遥指天外龙挂，操与玄德凭栏观之。操曰：“使君知龙之变化否？” 玄德曰：“未知其详。” 操曰：“龙能大能小，能升能隐；大则兴云吐雾，小则隐介藏形；升则飞腾于宇宙之间，隐则潜伏于波涛之内。方今春深，龙乘时变化，犹人得志而纵横四海。龙之为物，可比世之英雄。玄德久历四方，必知当世英雄。请试指言之。” 玄德曰：“备肉眼安识英雄？” 操曰：“休得过谦。” 玄德曰：“备叨恩庇，得仕于朝。天下英雄，实有未知。” 操曰：“既不识其面，亦闻其名。” 玄德曰：“淮南袁术，兵粮足备，可为英雄？” 操笑曰：“冢中枯骨，吾早晚必擒之！” 玄德曰：“河北袁绍，四世三公，门多故吏；今虎踞冀州之地，部下能事者极多，可为英雄？“操笑曰：“袁绍色厉胆薄，好谋无断；干大事而惜身，见小利而忘命：非英雄也。玄德曰：“有一人名称七俊，威镇九州：刘景升可为英雄？” ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/202402-typst-block.html" title="Hexo 配置 Typst 代码高亮"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2024/01/04/659638f006b95.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Hexo 配置 Typst 代码高亮"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/202402-typst-block.html" title="Hexo 配置 Typst 代码高亮">Hexo 配置 Typst 代码高亮</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-02-12T07:36:52.000Z" title="发表于 2024-02-12 15:36:52">2024-02-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0/">技术笔记</a></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-comments"></i><a href="/posts/202402-typst-block.html#post-comment"><span class="waline-comment-count" data-path="/posts/202402-typst-block.html"><i class="fa-solid fa-spinner fa-spin"></i></span></a><span class="article-meta-label"> 条评论</span></span></div><div class="content">Hexo 处理的代码块会被包裹在 figure table tbody tr &gt; td.code pre 中，每一行代码又被 span 包裹，如果需要加入对 Typst 的支持，需要将所有的代码重新提取出来，处理后之后再填入，有两种方法可以选择： 前端修改：在 html 页面中读取代码块元素，提取代码处理后再填入 (1) 标签插件（推荐）：在 hexo 生成的过程中使用标签插件 (2) 处理 前端修改 ¶ 此方法可能需要刷新才能正常显示 此方法会将所有的 plaintext 识别为 typst，可以通过在第一行加一行说明语言来处理 引入js文件 ¶ 12345&lt;script crossorigin="anonymous" src="https://foolishfox.cn/js/hl.js"&gt;&lt;/script&gt;&lt;script id="script-main" src="https://cdn.jsdelivr.net/npm/@myriaddreamin/highlighter-typst/dist/cjs/contrib/hljs...</div></div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/static/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info-name">Foolish Fox</div><div class="author-info-description">FF的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">36</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">63</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/YiHui-Liu" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github" style="color:#24292e"></i></a><a class="social-icon" href="mailto:fox@foolishfox.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="iconfont icon-rss" style="color:#ee7f2f"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>加载中...</span></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">36</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">76.7k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastpushdate="2025-11-13T18:59:33.227Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer_custom_text"><div id="footer-wrap"><div class="footer_custom_text"><svg class="footer-wave-svg" viewBox="0 0 1200 100" preserveAspectRatio="none"><path class="footer-wave-path" d="M851.8,100c125,0,288.3-45,348.2-64V0H0v44c3.7-1,7.3-1.9,11-2.9C80.7,22,151.7,10.8,223.5,6.3C276.7,2.9,330,4,383,9.8 c52.2,5.7,103.3,16.2,153.4,32.8C623.9,71.3,726.8,100,851.8,100z"></path></svg><div class="footer-content"><div class="footer-content-column"><div class="footer-menu"><h2 class="footer-menu-name">开始</h2><ul id="menu-get-started" class="footer-menu-list"><li class="menu-item menu-item-type-post_type menu-item-object-product"><a href="/about/">关于本站</a></li></ul></div></div><div class="footer-content-column"><div class="footer-menu"><h2 class="footer-menu-name">快速链接</h2><ul id="menu-company" class="footer-menu-list"><li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="/archives/">时间轴</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="/categories/">分类</a></li><li class="menu-item menu-item-type-taxonomy menu-item-object-category"><a href="/tags/">标签</a></li></ul></div></div><div class="footer-content-column"><div class="footer-menu"><h2 class="footer-menu-name">友情链接</h2><ul id="menu-get-started" class="footer-menu-list"><li class="menu-item menu-item-type-post_type menu-item-object-product"><a href="/link/">友链</a></li><li class="menu-item menu-item-type-post_type menu-item-object-product">框架&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io/zh-cn/">Hexo</a></li><li class="menu-item menu-item-type-post_type menu-item-object-product">主题&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></li></ul></div></div><div class="footer-content-column"><div class="footer-menu"><h2 class="footer-menu-name">博客圈</h2><ul id="menu-get-started" class="footer-menu-list"><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="/link/moments" rel="external nofollow noreferrer" target="_blank"><img alt="" style="width:auto;height:32px" title="朋友圈" class="entered exited" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/2023/07/22/64bb6cfb6c8e2.png"></a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.foreverblog.cn/go.html" rel="external nofollow noreferrer" target="_blank"><img alt="" style="width:auto;height:32px" title="穿梭虫洞-随机访问十年之约友链博客" class="entered exited" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.foreverblog.cn/assets/logo/wormhole_2_tp.gif"></a></li><li class="menu-item menu-item-type-post_type menu-item-object-page"><a href="https://www.travellings.cn/go.html" rel="external nofollow noreferrer" target="_blank"><img alt="" style="width:auto;height:29px;margin-top:10px" title="开往-友链接力" class="entered exited" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.travellings.cn/assets/logo.gif"></a></li></ul></div></div></div><div class="footer-copyright"><div class="footer-copyright-wrapper"><p class="footer-copyright-text">©2020-2025 By Fox&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://test-ipv6.com/index.html">IPv6 supported</a><br><a target="_blank" href="https://beian.mps.gov.cn/#/query/webSearch?code=11010802033122" rel="noopener external nofollow noreferrer noopener">京公网安备11010802033122</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn/"><span>京ICP备2020033890号-1</span></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://icp.gov.moe/?keyword=20250429" rel="external nofollow noreferrer" target="_blank">萌ICP备20250429号</a><br><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><br>由<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://asset.foolishfox.cn/static/upyun.png" class="inline"></a>提供云存储服务</p></div></div></div></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>(()=>{async function t(){try{const t=document.querySelectorAll("#recent-posts .waline-comment-count"),o=Array.from(t).map(t=>t.getAttribute("data-path")),e=await fetch("https://waline.foolishfox.cn/api/comment?type=count&url="+o,{method:"GET"});(await e.json()).data.forEach((o,e)=>{t[e].textContent=o})}catch(t){console.error(t)}}window.pjax?t():window.addEventListener("load",t)})()</script></div><script>window.newestComments={changeContent:e=>(""===e||(e=(e=(e=(e=(e=e.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<code>.*?<\/code>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(e=e.substring(0,150)+"..."),e),generateHtml:(e,t)=>{let n="";if(e.length)for(let t=0;t<e.length;t++){if(n+='<div class="aside-list-item">',e[t].avatar){const a="data-lazy-src",s="";n+=`<a href="${e[t].url}" class="thumbnail"><img ${a}="${e[t].avatar}" alt="${e[t].nick}" ${s}></a>`}n+=`<div class="content">\n        <a class="comment" href="${e[t].url}" title="${e[t].content}">${e[t].content}</a>\n        <div class="name"><span>${e[t].nick} / </span><time datetime="${e[t].date}">${btf.diffDate(e[t].date,!0)}</time></div>\n        </div></div>`}else n+="暂无评论";t.innerHTML=n,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(t)},newestCommentInit:(e,t)=>{const n=document.querySelector("#card-newest-comments .aside-list");if(n){const a=btf.saveToLocal.get(e);a?newestComments.generateHtml(JSON.parse(a),n):t(n)}},run:(e,t)=>{newestComments.newestCommentInit(e,t),btf.addGlobalFn("pjaxComplete",()=>newestComments.newestCommentInit(e,t),e)}}</script><script>window.addEventListener("load",()=>{const t="waline-newest-comments",{changeContent:e,generateHtml:n,run:a}=window.newestComments;a(t,async a=>{try{const o=await fetch("https://waline.foolishfox.cn/api/comment?type=recent&count=6"),c=(await o.json()).data.map(t=>({content:e(t.comment),avatar:t.avatar,nick:t.nick,url:t.url+"#"+t.objectId,date:t.time||t.insertedAt}));btf.saveToLocal.set(t,JSON.stringify(c),10/1440),n(c,a)}catch(t){console.error(t),a.textContent="无法获取评论，请确认相关配置是否正确"}})})</script><script src="/js/custom.js"></script><script src="https://cdn.staticfile.net/Swiper/10.3.1/swiper-bundle.min.js"></script><script data-pjax src="/js/memos_mini.js"></script><script>let tianliGPT_postSelector="",tianliGPT_key="PXRbIO6hp2HL9zUKVpXO";"foolishfox.cn"==document.domain&&(tianliGPT_postSelector="#post #article-container")</script><script data-pjax src="https://cdn.jsdelivr.net/gh/zhheo/Post-Abstract-AI@latest/tianli_gpt.js"></script><script async src="https://umami.foolishfox.cn/Bf5ZmaKLu245LG" data-website-id="74204a9f-8aca-4adf-9f03-d509f0a07116" data-domains="foolishfox.cn,www.foolishfox.cn"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span> 数据加载中</span></div><div class="local-search-input"><input placeholder="搜索文章" type="text"></div><hr><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.2"></script></div></div></body></html>