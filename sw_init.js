(async()=>{if("never"===window.localStorage.getItem("sw_permission")){console.log("FOW_SW is enable.");return}if("serviceWorker"in navigator){var e=Number(window.localStorage.getItem("sw_install_time")),r=new Date().getTime();r>e+432e5&&(console.log("FOW_SW needed to be updated."),window.localStorage.setItem("sw_permission","true")),"true"===window.localStorage.getItem("sw_permission")?navigator.serviceWorker.register(`/sw.js?time=${r}`).then(async e=>{setTimeout(()=>{window.localStorage.setItem("sw_install_time",r)},1e3)}).catch(async e=>{console.error("FOW_SW installation failed"+e),window.localStorage.setItem("sw_permission","never")}):console.log("FOW_SW is the latest version.")}else console.error("Oops, your browser doesn't support ServiceWorker!"),window.localStorage.setItem("sw_permission","never")})();